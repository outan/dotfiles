#システムの基本コマンド
# Detect which `ls` flavor is in use
if ls --color > /dev/null 2>&1; then # GNU `ls`
    colorflag="--color"
    fileflag=""
else # OS X `ls`
    colorflag="-G"
    fileflag="-O"
fi

alias ls='ls -Fh ${colorflag}'
alias ll='ls  -Fl ${colorflag}'
# List only directories
alias lsd='ls -l ${colorflag} | grep "^d"'

alias lsal='ls -FAl ${colorflag} ${fileflag}'
alias lsa='ls -FA ${colorflag}'
alias lsdl="ls -AFdl .*" #.で始まるすべてのもの（隠しファイルとディレクトリのみを表示）
alias lsll="lsal *(@D)" #シンボリックリンク(.で始まるシンボリックも含む)のみを表示
alias cp='cp -iv'
alias h='history'
alias a='alias'
alias disk='du -h -x -d 1'
alias hosts='vi /etc/hosts'
alias log='cd ~/system/nexlink-b/var/log/'
alias jobs='jobs -l'

#rmを実施する時に、Trashに移動する
if [ -f /usr/local/bin/rmtrash ]
then
    alias rm='rmtrash'
else
    alias rm='rm -i'
fi

alias mv='mv -iv'
alias cl='clear'

#macvimがある場合に、viはmacvimを起動
if [ -f /Applications/MacVim.app/Contents/MacOS/Vim ]
then
  alias vi='env LANG=ja_JP.UTF-8 /Applications/MacVim.app/Contents/MacOS/Vim "$@"'
  alias vim='env LANG=ja_JP.UTF-8 /Applications/MacVim.app/Contents/MacOS/Vim "$@"'
else
alias vi='vim'
fi

#alias sl= "ls -al | grep -- '->'"
#grepの色設定
alias grep='grep -E --color=auto'
alias zgrep='zgrep --color=auto'
alias egrep='egrep --color=auto'
alias coteditor='open -a Coteditor'
alias javac="javac -J-Dfile.encoding=UTF8"
alias 'ps?'='pgrep -l -f'
alias so="source"

#ruby,rails関連コマンド
alias be='bundle exec'
alias rc='rails c'
alias berc='bundle exec rails c'
alias bi='bundle install'
alias bl='bundle list'
alias rs='rails server'
alias bersp='bundle exec rails server Puma'
alias b='bundle'
alias puma='bundle exec rails server Puma'
alias foreman='bundle exec foreman start'

#cdに関するショートカット
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias .....="cd ../../../.."
alias d="cd ~/Dropbox"
alias c="cd /c/Users/034180_427007"
alias dl="cd ~/Downloads"
alias dt="cd ~/Desktop"
alias p="cd ~/projects"
alias df="cd ~/dotfiles"
alias n1="cd ~/projects/nexlink_cms"
alias n2="cd ~/projects/nexlink2"
alias we="cd ~/web"
alias de="cd ~/web/rails/demo"
alias blog="cd ~/web/rails/blog"

#git関連
alias g=" git"
alias bs="java -cp bsh-2.0b4.jar bsh.Interpreter"
alias gt="gitk"

alias lb="ssh develop_lb01"

#ag関連
alias ag='ag  --stats --hidden -i'
alias ags='ag  --stats --hidden -s'
alias agh='ag --hidden'

# extract http://d.hatena.ne.jp/jeneshicc/20110215/1297778049
extract () {
    if [ -f $1 ]
        then
            case $1 in
                *.tar.bz2) tar xvjf $1 ;;
                *.tar.gz) tar xvzf $1 ;;
                *.tar.xz) tar xvJf $1 ;;
                *.bz2) bunzip2 $1 ;;
                *.rar) unrar x $1 ;;
                *.gz) gunzip $1 ;;
                *.tar) tar xvf $1 ;;
                *.tbz2) tar xvjf $1 ;;
                *.tgz) tar xvzf $1 ;;
                *.zip) unzip $1 ;;
                *.Z) uncompress $1 ;;
                *.7z) 7z x $1 ;;
                *.lzma) lzma -dv $1 ;;
                *.xz) xz -dv $1 ;;
                *) echo "don't know how to extract '$1'..." ;;
             esac
        else
            echo "'$1' is not a valid file!"
    fi
    }
alias ex='extract'

#日本語、英語のmanページを切り替えて表示させる
alias man='env LANG=C man'
alias jman='env LANG=ja_JP.UTF-8 man'

#suffix alias alias -sを利用することで拡張子に応じたコマンドを実行してくれるようになる。
alias -s txt='cat'
alias -s html='google-chrome'
alias -s rb='ruby'
alias -s py='python'
alias -s hs='runhaskell'
alias -s php='php -f'
alias -s {gz,tar,zip,rar,7z}='unarchive' # preztoのarchiveモジュールのコマンド(https://github.com/sorin-ionescu/prezto/tree/master/modules)
alias -s {gif,jpg,jpeg,png,bmp}='display'

function runcpp () {
    g++ -O2 $1
    shift
    ./a.out $@ 
}
alias -s {c,cpp}='runcpp'

function runjava () { 
    className=$1
    className=${className%.java}
    javac $1
    shift
    java $className $@
}
alias -s java='runjava'
